<ion-header [hidden]="true">
    <ion-navbar>
        <ion-title>Dashboard</ion-title>
    </ion-navbar>
</ion-header>


<ion-content style="background: #f4fbfb;">

   


    <span>

        <div class="dashboard_header">
            <div class="csm_header">
                <div class="logo"><img src="assets/imgs/p-logo.png" alt=""></div>
                <div class="buttons">
                    <button ion-button (click)="open_menu()"><img src="assets/imgs/menu_icon.svg" alt="" class="menu_icon"></button>
                </div>
            </div>
        </div>

        
        <div class="em_info">
            <ion-refresher (ionRefresh)="doRefresh($event)">
                <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles" refreshingText="Refreshing...">
                </ion-refresher-content>
            </ion-refresher>
            <div class="figure">
                <div class="nnm">
                    <h1>Hi, {{!user_data.name ? 'N/A': user_data.name | titlecase}}</h1>
                    <!-- <h1 *ngIf="user_data.name">Hi, {{user_data.name | titlecase}}</h1>
                    <h1 *ngIf="!user_data.name">Oops, No Data Found. Please Pull Down To Refresh</h1> -->

                    <p *ngIf="user_data.mobile">+91 {{user_data.mobile}}</p>
                </div>
                <div class="srt_button">
                    <button ion-button class="str" *ngIf="(last_attendence_data.start_time == '') && (last_attendence_data.stop_time == '' )" (click)="openModal()">
                        <div class="cs-left">
                            <div class="icon"><img src="assets/imgs/wrk_time-start.svg" alt=""></div>
                            <div class="timeclass">
                                <p>Your Start Time</p>
                                <p><span>00 : 00</span> <span>{{start_attend_time}}</span></p>
                            </div>
                        </div>
                        <div class="cs-right">
                            <div class="lb">Start Work Time</div>
                        </div>
                    </button>

                    <button ion-button class="stp" *ngIf="(last_attendence_data.stop_time == '00:00:00') && (last_attendence_data.start_time != '00:00:00' )" (click)="presentAlert()">
                        <div class="cs-left">
                            <div class="icon"><img src="assets/imgs/wrk_time-end.svg" alt=""></div>
                            <div class="timeclass">
                                <p>Your Start Time</p>
                                <p><span>{{start_attend_time}}</span></p>
                            </div>
                        </div>
                        <div class="cs-right">
                            <div class="lb">Stop Work Time</div>
                        </div>
                    </button>
                    
                </div>
            </div>
        </div>



        <ng-container *ngIf="user_data.user_type!='OFFICE'">

            <div class="product-option pt5" *ngIf="user_data.user_type!='Inside Sales Team'">

                <div class="main-box" (click)="goToMainDistributorListPage(1)">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/customer.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{total_distributor.total_distributor}}</span></div>
                        <h4>Distributor</h4>
                    </div>
                </div>

                <div class="main-box" (click)="goToMainDistributorListPage(7)">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/fabricator.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{total_direct_dealer.total_direct_dealer}}</span></div>
                        <h4>Direct Dealer</h4>
                    </div>
                </div>

                <div class="main-box" (click)="goToMainDistributorListPage(3)">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/architect.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{total_dealer.total_dealer}}</span></div>
                        <h4>Dealers</h4>
                    </div>
                </div>
                <div class="main-box" (click)="goToMainDistributorListPage(5)">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/architect.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{today_oem_count}}</span></div>
                        <h4>Oem</h4>
                    </div>
                </div>


            </div>

            <div class="product-option pt5" *ngIf="user_data.user_type!='Inside Sales Team'">
                <div class="main-box" (click)="goToContractorPage()">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/customer.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{today_contractor_count}}</span></div>
                        <h4>Contractor</h4>
                    </div>
                </div>
                <div class="main-box" (click)="goToArchitecturePage()">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/customer.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{today_architect_count}}</span></div>
                        <h4>Architect</h4>
                    </div>
                </div>
                <div class="main-box" (click)="goToSiteListPage()">
                    <div class="product-box">
                        <img src="assets/imgs/cs-network/customer.svg">
                    </div>
                    <div class="heading">
                        <div class="count"><span>{{today_site_count}}</span></div>
                        <h4>Site</h4>
                    </div>
                </div>
            </div>

            <div class="product-option pt5">
               
            </div>

            <div class="product-option pt5" *ngIf="user_data.user_type=='Inside Sales Team'" >

              <div class="main-box" (click)="goToDrListPage(1,'Dr')" >
                  <div class="product-box" >
                      <img src="assets/imgs/cs-network/customer.svg">
                  </div>
                  <div class="heading">
                      <div class="count"><span>{{total_distributor.total_distributor}}</span></div>
                      <h4>Distributor</h4>
                  </div>
              </div>

              <div class="main-box" (click)="goToDrListPage(7,'Dr')" >
                  <div class="product-box">
                      <img src="assets/imgs/cs-network/fabricator.svg">
                  </div>
                  <div class="heading">
                      <div class="count"><span>{{total_direct_dealer.total_direct_dealer}}</span></div>
                      <h4>Direct Dealer</h4>
                  </div>
              </div>

              <div class="main-box" (click)="goToDrListPage(3,'Dr')" >
                  <div class="product-box">
                      <img src="assets/imgs/cs-network/architect.svg">
                  </div>
                  <div class="heading">
                      <div class="count"><span>{{total_dealer.total_dealer}}</span></div>
                      <h4>Dealers</h4>
                  </div>
              </div>

              <div class="main-box" (click)="goToDrListPage(10,'Lead')" >
                <div class="product-box">
                    <img src="assets/imgs/cs-network/architect.svg">
                </div>
                <div class="heading">
                    <div class="count"><span>{{social_media_lead_count}}</span></div>
                    <h4>Social Media Lead</h4>
                </div>
            </div>


            </div>

        </ng-container>




        <div padding class="pt10">
            <ng-container *ngIf="today_checkin.today_checkin > 0 && user_data.user_type!='Inside Sales Team'" >

                <div class="go-btn new mb16" (click)="goToCheckin()">
                    <div class="g-left">
                        <p>{{today_checkin.today_checkin}}</p>
                        <p>Today Check In</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content">
                            <p  >Check In's are <strong>Completed</strong></p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="today_checkin.today_checkin == 0 && user_data.user_type!='Inside Sales Team'" >

                <div class="go-btn new mb16" (click)="start_visit()">
                    <div class="g-left">
                        <p>{{today_checkin.today_checkin}}</p>
                        <p>Today Check In</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content">
                            <p  >Create Check In</p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>
            </ng-container>

            <ng-container *ngIf="user_data.user_type=='Inside Sales Team'" >

                <div class="go-btn new mb16">
                    <div class="g-left">
                        <p>{{today_activity_count}}</p>
                        <p>Today Activity</p>
                    </div>
                    <div class="g-right" (click)="activtiy()">
                        <div class="g-content">
                            <!-- <p  >Create Activty</p> -->
                            <p  >Activity</p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>
            </ng-container>



            <ng-container *ngIf="user_data.user_type=='OFFICE'" >
                <div class="go-btn new mb16"  (click)="goToMainDistributorListPage(3)">
                    <div class="g-left">
                        <p>{{total_dealer.total_dealer}}</p>
                        <p>Total Dealers</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content" >
                            <p>My Dealers</p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>

            </ng-container>

            <div class="go-btn new mb16" (click)="goToOrders('Secondary')" *ngIf = "user_data.user_type!='Inside Sales Team'">
                <div class="g-left">
                    <p>{{total_secondary_order.total_secondary_order}}</p>
                    <p>Total Order</p>
                </div>
                <div class="g-right">
                    <div class="g-content" >
                        <p >Order To Distributor</p>
                        <p >&#x20B9; <span>{{total_secondary_order.secondary_order_sum |number:'1.0-0'}}/-</span></p>
                    </div>
                    <div class="g-count">
                        <i class="material-icons">keyboard_arrow_right</i>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="user_data.user_type!='OFFICE'" >

                <div class="go-btn new mb16"  (click)="goToOrders('Primary')" *ngIf = "user_data.user_type!='Inside Sales Team'">
                    <div class="g-left">
                        <p>{{total_primary_order.total_primary_order}}</p>
                        <p>Total Order</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content" >
                            <p>Order To Sirca Paints</p>
                            <p >&#x20B9; <span>{{total_primary_order.primary_order_sum |number:'1.0-0'}}/-</span></p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>
                <!-- ////////////////////////////////////////// pop work-->

                <div class="go-btn new mb16"  (click)="goToFollowUp()" >
                    <div class="g-left">
                        <p>{{today_followup_count}}</p>
                        <p>Today Follow Up</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content" >
                            <p>Follow Up</p>
                            <p > <span>  </span></p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>
            </ng-container>



            <div class="target-box" *ngIf="user_data.user_type!='Inside Sales Team'">
                <div class="target-head">
                    Target <span>V/S</span> Achievement - {{target_vs_achievement.month}} {{target_vs_achievement.year}}
                </div>
                <div class="target-column">
                    <div class="box" (click)="viewAchievement()">
                        <h2>Primary ({{target_vs_achievement.primary_achievement_percentage +'%'}})</h2>
                        <div class="primary-column" [ngClass]="target_check('primary') ? 'achievement-bg' : 'pending-bg'">
                            <p class="green-text">&#x20B9; {{target_vs_achievement.primary_achievement}} </p>
                            <span>Achievement</span>
                        </div>
                        <div class="vs">
                            V / S
                        </div>
                        <div class="primary-column secondary-bg">
                            <p class="green-text">&#x20B9; {{target_vs_achievement.primary_target}} </p>
                            <span>Target</span>
                        </div>
                    </div>
                    <div class="box" (click)="viewAchievement()">
                        <h2>Secondary ({{target_vs_achievement.secondary_achievement_percentage +'%'}})</h2>
                        <div class="primary-column" [ngClass]="target_check('secondary') ? 'achievement-bg' : 'pending-bg'">
                            <p class="green-text">&#x20B9; {{target_vs_achievement.secondary_achievement}} </p>
                            <span>Achievement</span>
                        </div>
                        <div class="vs">
                            V / S
                        </div>
                        <div class="primary-column secondary-bg">
                            <p class="green-text">&#x20B9; {{target_vs_achievement.secondary_target}}</p>
                            <span>Target</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="target-box" *ngIf="user_data.user_type=='Inside Sales Team'">
              <div class="target-head">
                  Target <span>V/S</span> Achievement - {{target_vs_achievement.month}} {{target_vs_achievement.year}}
              </div>
              <div class="target-column">
                  <div class="box" (click)="viewAchievement()">
                      <h2>Primary ({{target_vs_achievement.primary_achievement_percentage +'%'}})</h2>
                      <div class="primary-column" [ngClass]="target_check('primary') ? 'achievement-bg' : 'pending-bg'">
                          <p class="green-text">&#x20B9; {{target_vs_achievement.primary_achievement}} </p>
                          <span>Achievement</span>
                      </div>
                      <div class="vs">
                          V / S
                      </div>
                      <div class="primary-column secondary-bg">
                          <p class="green-text">&#x20B9; {{target_vs_achievement.primary_target}} </p>
                          <span>Target</span>
                      </div>
                  </div>
                  <div class="box" (click)="viewAchievement()">
                      <h2>Secondary ({{target_vs_achievement.secondary_achievement_percentage +'%'}})</h2>
                      <div class="primary-column" [ngClass]="target_check('secondary') ? 'achievement-bg' : 'pending-bg'">
                          <p class="green-text">&#x20B9; {{target_vs_achievement.secondary_achievement}} </p>
                          <span>Achievement</span>
                      </div>
                      <div class="vs">
                          V / S
                      </div>
                      <div class="primary-column secondary-bg">
                          <p class="green-text">&#x20B9; {{target_vs_achievement.secondary_target}}</p>
                          <span>Target</span>
                      </div>
                  </div>
              </div>
          </div>


        </div>



        <!-- <div class="target-column">
            <div class="heading">Target V/S Achievement</div>
            <div class="target-column-grid" >
                <div class="taget-achievement" (click)="viewAchievement()">
                    <div class="taget_vs_achievement">
                        <p class="green-text">&#x20B9; 1000</p>
                        <span>Primary Achievement</span>
                    </div>
                    <div class="vs">
                        V / S
                    </div>
                    <div class="taget_vs_achievement">
                        <p class="red-text">&#x20B9; 100</p>
                        <span>Primary Target</span>
                    </div>
                </div>
                <div class="taget-achievement" (click)="viewAchievement()">
                    <div class="taget_vs_achievement">
                        <p class="green-text">&#x20B9; 100</p>
                        <span>Secondary Achievement</span>
                    </div>
                    <div class="vs">
                        V / S
                    </div>
                    <div class="taget_vs_achievement">
                        <p class="red-text">&#x20B9; 100</p>
                        <span>Secondary Target</span>
                    </div>
                </div>

            </div>
        </div> -->


    </span>


    <!-- for testing purpose , not use now  -->

    <span *ngIf="false">

        <div class="dashboard_header">
            <div class="csm_header">
                <div class="logo" (click)="test_method()"><img src="assets/imgs/p-logo.png" alt=""></div>
                <div class="buttons">
                </div>
            </div>
        </div>

        <div padding class="pt10 mt50">

            <ng-container *ngIf="user_data.user_type!='OFFICE'" >

                <div class="go-btn new mb16"  (click)="go_to('ready_to_dispatch')">
                    <div class="g-left">
                        <p>5</p>
                        <p>Total</p>
                    </div>
                    <div class="g-right">
                        <div class="g-content" >
                            <p>Ready To Dispatch Order List</p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>

                <div class="go-btn new mb16"  (click)="go_to('dispatch')">

                    <div class="g-left">
                        <p>100</p>
                        <p>Total</p>
                    </div>

                    <div class="g-right">
                        <div class="g-content" >
                            <p>Dispatch Order List</p>
                        </div>
                        <div class="g-count">
                            <i class="material-icons">keyboard_arrow_right</i>
                        </div>
                    </div>
                </div>

            </ng-container>

        </div>

    </span>


</ion-content>
